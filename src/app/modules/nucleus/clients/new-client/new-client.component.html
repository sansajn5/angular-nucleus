<nb-card class="cardPageWrapper">
  <nb-card-body>
    <nb-stepper #stepper>
      <!-- FIRST STEPPER LOCATION -->
      <nb-step [stepControl]="firstForm" label="{{'CLIENTS.NEW.FIRST_STEP.TITLE' | translate}}">
          <div class="titleForm">
            <h3>
              {{ 'CLIENTS.NEW.FIRST_STEP.COUNTRY' | translate }}
            </h3>
          </div>
          <!-- COUNTRY -->
          <div class="flexWrapper formWrapper">
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="countyModeState === 0">
              <nb-card-front (click)="flip('COUNTRY', 0)">
                <nb-card class="flipCardContentCountry" [ngClass]="{'closed' : createdCountry}">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.ADD_COUNTY' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry" [ngClass]="{'closed' : createdCountry}">
                  <nb-card-body fxLayout="column" fxLayoutAlign="center center">
                    <form [formGroup]="newCountryForm">
                    <div fxLayout="row" fxLayoutAlign="center center">
                      <div style="margin-right: 0.5rem;">
                        <label for="input-password">Name:</label>
                        <input type="text" nbInput  fullWidth status="info" formControlName="name" placeholder="Enter name:">
                      </div>
                      <div style="margin-left: 0.5rem;">
                        <label for="input-password">Code:</label>
                        <input type="text" nbInput  fullWidth status="info" formControlName="code" placeholder="Enter code:">
                      </div>  
                    </div>
                    <div style="margin-top: 1rem; width: 100%;">
                      <button nbButton fxFill status="info" [disabled]="!newCountryForm.valid" (click)="addNewCountry()">{{ 'GLOBAL.CONFIRM' | translate }}</button>
                    </div>
                    </form>
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card>
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="countyModeState === 1">
              <nb-card-front (click)="flip('COUNTRY', 1)">
                <nb-card class="flipCardContentCountry" [ngClass]="{'closed' : createdCountry}">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.EXISTING_COUNTY' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry" [ngClass]="{'closed' : createdCountry}">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <form [formGroup]="countryForm">
                      <select formControlName="id">
                        <option *ngFor="let item of countries" value={{item.id}}>{{item.name}} - {{item.code}}</option>
                      </select>
                      <button nbButton fxFill status="info" [disabled]="!countryForm.valid" (click)="setCountry()">{{ 'GLOBAL.CONFIRM' | translate }}</button>
                    </form>
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card> 
          </div>

          <!-- CITY -->
          <div class="titleForm" style="margin-top: 2rem;">
            <h3>
              {{ 'CLIENTS.NEW.FIRST_STEP.CITY' | translate }}
            </h3>
          </div>
          <div class="flexWrapper formWrapper">
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="cityModeState === 0">
              <nb-card-front (click)="flip('CITY', 0)">
                <nb-card class="flipCardContentCountry">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.ADD_CITY' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry">
                  <nb-card-body>
                    Back
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card>
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="cityModeState === 1">
              <nb-card-front (click)="flip('CITY', 1)">
                <nb-card class="flipCardContentCountry">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.EXISTING_CITY' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry">
                  <nb-card-body>
                    Back
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card> 
          </div>

          <!-- ADDRESS -->
          <div class="titleForm" style="margin-top: 2rem;">
            <h3>
              {{ 'CLIENTS.NEW.FIRST_STEP.ADDRESS' | translate }}
            </h3>
          </div>
          <div class="flexWrapper formWrapper">
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="addressModeState === 0">
              <nb-card-front (click)="flip('ADDRESS', 0)">
                <nb-card class="flipCardContentCountry">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.ADD_ADDRESS' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card>
            <nb-flip-card class="chooserItem" [showToggleButton]="false" [flipped]="addressModeState === 1">
              <nb-card-front (click)="flip('ADDRESS', 1)">
                <nb-card class="flipCardContentCountry">
                  <nb-card-body fxLayout fxLayoutAlign="center center">
                    <div>{{ 'CLIENTS.NEW.FIRST_STEP.EXISTING_ADDRESS' | translate }}</div>
                  </nb-card-body>
                </nb-card>
              </nb-card-front>
              <nb-card-back>
                <nb-card class="flipCardContentCountry">
                  <nb-card-body>
                    Back
                  </nb-card-body>
                </nb-card>
              </nb-card-back>
            </nb-flip-card> 
          </div>
          <button nbButton nbStepperNext>next</button>
      </nb-step>

      <!-- SECOND STEP -->

      <nb-step [stepControl]="secondForm" label="{{'CLIENTS.NEW.SECOND_STEP.TITLE' | translate}}">
        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">
          <p class="lorem">
            Pellentesque we gonna chung tortor.
            Sizzle pizzle. Fizzle izzle dolor dapibus fo shizzle mah nizzle fo rizzle, mah home g-dizzle tempus tempor.
            Maurizzle cool nibh owned turpizzle. My shizz fo shizzle tortor.
          </p>
          <div class="input-group">
            <input type="text" placeholder="Enter favorite movie" class="form-control" formControlName="secondCtrl"
                   [ngClass]="{'form-control-danger': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">
          </div>
          <button nbButton nbStepperPrevious>prev</button>
          <button nbButton nbStepperNext>next</button>
        </form>
      </nb-step>
      <!-- SECOND STEPPER INFORMATION DATA -->
      <nb-step [stepControl]="thirdForm" label="{{'CLIENTS.NEW.FIRST_STEP.TITLE' | translate}}">
        <form [formGroup]="thirdForm" (ngSubmit)="onThirdSubmit()" class="step-container">
          <p class="lorem">
            Things boom shackalack rhoncus yo. In fo shizzle my nizzle gangsta platea dictumst. Check it out pot.
          </p>
          <div class="input-group">
            <input type="text" placeholder="Enter something" class="form-control" formControlName="thirdCtrl"
                   [ngClass]="{'form-control-danger': thirdForm.invalid && (thirdForm.dirty || thirdForm.touched)}">
          </div>
          <button nbButton nbStepperPrevious>prev</button>
          <button nbButton nbStepperNext>Confirm</button>
        </form>
      </nb-step>
      <nb-step [stepControl]="thirdForm" [hidden]="true" label="Third step">
        <div class="step-container">
          <h3>Wizard completed!</h3>
          <button nbButton (click)="stepper.reset()">Try again</button>
        </div>
      </nb-step>
    </nb-stepper>
  </nb-card-body>
</nb-card>